<!DOCTYPE html>
<html>
<head>
    <title>Protected Blog Input</title>
</head>
<body>
    <h1>Protected Blog Input</h1>
    <form action="authenticate.php" method="post">
        <label for="password">Enter Password: </label>
        <input type="password" id="password" name="password">
        <button type="submit">Enter</button>
    </form>

    <h2>Your Blog Posts</h2>
    <ul id="blogList"></ul>

    <script>
        var blogData = JSON.parse(localStorage.getItem("blogPosts")) || [];

        var blogList = document.getElementById("blogList");

        blogData.forEach(function(post, index) {
            var listItem = document.createElement("li");
            listItem.innerHTML = post.title + " (<a href='createpost.html?edit=" + index + "'>Edit</a> | <a href='#' onclick='deletePost(" + index + ")'>Delete</a>)";
            blogList.appendChild(listItem);
        });

        function deletePost(index) {
            blogData.splice(index, 1);
            localStorage.setItem("blogPosts", JSON.stringify(blogData));
            location.reload(); // Refresh the page
        }
    </script>
</body>
</html>
